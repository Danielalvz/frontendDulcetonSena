
<hr>
<div class="row">
    <button class="btn btn-warning m-auto" (click)="mostrarForm('ver')">Insertar Usuario</button>
</div>
<!-- Formulario -->
<div id="formulario" *ngIf="mform == true">
    <form class="m-auto w-75">
        <h1 *ngIf="botonesForm">Editar Usuario</h1>
        <div class="row mt-4">
            <div class="col-lg-6 mb-4">
                <label for="usuario">Usuario</label>
                <input type="text" id="usuario" class="form-control" placeholder="Usuario" name="usuario"
                    [(ngModel)]="obj_usuario.usuario">
                <span style="color: red;" class="error" *ngIf="validar_usuario == false">Ingrese el
                    usuario</span>
            </div>
            <div class="col-lg-6 mb-4">
                <label for="password">Contraseña</label>
                <input type="password" id="password" placeholder="Password" class="form-control" name="password"
                    [(ngModel)]="obj_usuario.password">
                <span class="error" *ngIf="validar_password == false">Ingrese password para el usuario</span>
            </div>
        </div>
        <div class="row mt-2">
            <div class="col-lg-6 mb-4">
                <label for="email">Email</label>
                <input type="email" id="email" placeholder="Correo" class="form-control" name="email"
                    [(ngModel)]="obj_usuario.email">
                <span class="error" *ngIf="validar_email == false">Ingrese correo</span>
            </div>
            <div class="col-lg-6 mb-4">
                <label for="telefono">Telefono</label>
                <div class="input-group">
                    <input type="text" id="telefono" placeholder="Telefono" class="form-control" name="telefono"
                        [(ngModel)]="obj_usuario.telefono">
                    <span class="error" *ngIf="validar_telefono == false">Ingrese telefono</span>
                </div>
            </div>
        </div>


        <div class="row mt-2">
            <div class="col-lg-12 mb-4">
                <label class="text-center" for="fo_tipo_usuario">Rol</label>
                <select id="fo_tipo_usuario" class="form-control form-select" [(ngModel)]="obj_usuario.fo_tipo_usuario"
                    name="fo_tipo_usuario">
                    <option [ngValue]="0" label="Seleccione Tipo de Usuario" selected="selected">Seleccione Tipo de
                        Usuario
                    </option>
                    <option *ngFor="let tipousuario of tipoUsuario" [ngValue]="tipousuario.id_tipo_usuario"
                        label="{{tipousuario.cargo}}"></option>
                </select>
                <span class="error" *ngIf="validar_fo_tipo_usuario == false">Seleccione tipo de usuario</span>
            </div>
        </div>
        <div class="row mt-4 mb-4">
            <div class="col-lg-6">
                <input type="button" value="Guardar" class="btn btn-primary" style="width: 100%;"
                    (click)="validarUsuario('guardar')" *ngIf="!botonesForm">
                <input type="button" value="Editar" class="btn btn-primary" style="width: 100%;"
                    (click)="validarUsuario('editar')" *ngIf="botonesForm">

            </div>
            <div class="col-lg-6">
                <input type="button" value="Cancelar" class="btn btn-secondary" style="width: 100%;"
                    (click)="mostrarForm('ocultar')">
            </div>
        </div>
    </form>
</div>
<div id="tabla">
    <div class="table-responsive">
        <div class="row">
            <div class="col-lg-1"></div>
            <div class="col-lg-11">
                <table class="table">
                    <tr>
                        <th>Usuario</th>
                        <th>Password</th>
                        <th>Correo</th>
                        <th>Teléfono</th>
                        <th>Tipo Usuario</th>
                        <th>Acciones</th>

                    </tr>
                    <tr *ngFor="let usuario of usuario">
                        <td>{{usuario.usuario}}</td>
                        <td>{{usuario.password}}</td>
                        <td>{{usuario.email}}</td>
                        <td>{{usuario.telefono}}</td>
                        <td>{{usuario.tipo_usuario}}</td>

                        <td>
                            <span class="fas fa-edit" style="color: blue; cursor: pointer;" title="Editar"
                                (click)="cargarDatos(usuario, usuario.id_usuario)"></span>
                            <span class="fas fa-minus-square" style="color: red; cursor: pointer;" title="Eliminar"
                                (click)="eliminar(usuario.id_usuario)"></span>

                        </td>
                    </tr>
                </table>
            </div>
        </div>

    </div>
</div>